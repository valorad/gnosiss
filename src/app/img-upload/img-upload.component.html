<header class="imgUpload">
  <h1>Select img, thumbnail to upload</h1>
</header>

<main>
  <section class="container-fluid imgUpload">

      <section class="row">
        <md-card class="col-md-5 mx-auto gnDropZone" ng2FileDrop
              [ngClass]="{'gnDropZoneFileOver': imgUploader.hasBaseDropZoneOver}"
              (fileOver)="imgUploader.fileOverBase($event)"
              [uploader]="imgUploader.uploader">
            Img File Drop Zone
        </md-card>
        <md-card class="col-md-5 mx-auto gnDropZone" ng2FileDrop
              [ngClass]="{'gnDropZoneFileOver': thumbnailUploader.hasBaseDropZoneOver}"
              (fileOver)="thumbnailUploader.fileOverBase($event)"
              [uploader]="thumbnailUploader.uploader">
            Thumbnail File Drop Zone
        </md-card>

        <div class="col-md-5 mx-auto">
          <h2 [class.error]="imgUploader.uploader?.queue?.length>=imgUploader.uploader?.options?.queueLimit">imgfiles: {{ imgUploader.uploader?.queue?.length }} / {{ imgUploader.uploader?.options?.queueLimit }}</h2>
          <table class="table">
            <thead>
              <tr>
                    <td>Name</td>
                    <td>Size</td>
                    <td>Progress</td>
                    <td>Status</td>
                    <td>Actions</td>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of imgUploader.uploader.queue">
                <!-- name -->
                <td><strong>{{ item?.file?.name }}</strong></td>
                <!-- Size -->
                <td>
                  <div *ngIf="imgUploader.uploader.options.isHTML5; then iSizeKnown else iSizeErr"> </div>
                  <ng-template #iSizeKnown>
                    {{ item?.file?.size/1024/1024 | number:'.2' }} MB
                  </ng-template>
                  <ng-template #iSizeErr>
                    Unknown
                  </ng-template>
                </td>
                <!-- Progress -->
                <td>
                  <div *ngIf="imgUploader.uploader.options.isHTML5; then iProgress5 else iProgressLT5"></div>
                  <ng-template #iProgress5>
                    <md-progress-bar
                        class=""
                        color="accent"
                        mode="determinate"
                        value="{{ item.progress }}">
                    </md-progress-bar>
                  </ng-template>
                  <ng-template #iProgressLT5>
                    {{ item.progress }} %
                  </ng-template>
                </td>
                <!-- Status -->
                <td>
                  <span *ngIf="item.isSuccess"><i class="material-icons success">done</i></span>
                  <span *ngIf="item.isCancel"><i class="material-icons cancel">clear</i></span>
                  <span *ngIf="item.isError"><i class="material-icons error">error_outline</i></span>
                </td>

                <!-- Actions -->
                <td class="gnosissActions">
                  <button md-button color="primary"
                        (click)="item.upload()" [hidden]="item.isReady || item.isUploading || item.isSuccess">
                      <i class="material-icons">file_upload</i>
                  </button>
                  <button md-button color="accent"
                        (click)="item.cancel()" [hidden]="!item.isUploading">
                      <i class="material-icons cancel">clear</i>
                  </button>
                  <button md-button color="warn"
                      (click)="item.remove()" [hidden]="item.isUploading">
                    <i class="material-icons">delete_forever</i>
                  </button>
                </td>

              </tr>
            </tbody>
          </table>
        </div>

        <div class="col-md-5 mx-auto">
          <h2>thumbnail: {{ thumbnailUploader.uploader?.queue?.length }} files in queue</h2>
          <table class="table">
            <thead>
              <tr>
                    <td>Name</td>
                    <td>Size</td>
                    <td>Progress</td>
                    <td>Status</td>
                    <td>Actions</td>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of thumbnailUploader.uploader.queue">
                <!-- name -->
                <td><strong>{{ item?.file?.name }}</strong></td>
                <!-- Size -->
                <td>
                  <div *ngIf="thumbnailUploader.uploader.options.isHTML5; then tSizeKnown else tSizeErr"> </div>
                  <ng-template #tSizeKnown>
                    {{ item?.file?.size/1024/1024 | number:'.2' }} MB
                  </ng-template>
                  <ng-template #tSizeErr>
                    Unknown
                  </ng-template>
                </td>
                <!-- Progress -->
                <td>
                  <div *ngIf="thumbnailUploader.uploader.options.isHTML5; then tProgress5 else tProgressLT5"></div>
                  <ng-template #tProgress5>
                    <md-progress-bar
                        class=""
                        color="accent"
                        mode="determinate"
                        value="{{ item.progress }}">
                    </md-progress-bar>
                  </ng-template>
                  <ng-template #tProgressLT5>
                    {{ item.progress }} %
                  </ng-template>
                </td>
                <!-- Status -->
                <td>
                  <span *ngIf="item.isSuccess"><i class="material-icons success">done</i></span>
                  <span *ngIf="item.isCancel"><i class="material-icons cancel">clear</i></span>
                  <span *ngIf="item.isError"><i class="material-icons error">error_outline</i></span>
                </td>

                <!-- Actions -->
                <td class="gnosissActions">
                  <button md-button color="primary"
                        (click)="item.upload()" [hidden]="item.isReady || item.isUploading || item.isSuccess">
                      <i class="material-icons">file_upload</i>
                  </button>
                  <button md-button color="accent"
                        (click)="item.cancel()" [hidden]="!item.isUploading">
                      <i class="material-icons cancel">clear</i>
                  </button>
                  <button md-button color="warn"
                      (click)="item.remove()" [hidden]="item.isUploading">
                    <i class="material-icons">delete_forever</i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
  </section>
  <section class="container imgInfoAdd">
    <section class="row">
      <form class="col-md-10 mx-auto" action="POST">
        <md-card class="col-md-12">
          <md-card-content>
            <div>
              <div class="row">
                <md-input-container class="mx-auto">
                  <input mdInput name="imgName" placeholder="image-name" maxlength="140" [(ngModel)]="rsImg.name">
                </md-input-container>
                <md-input-container class="mx-auto">
                  <input mdInput name="imgExtension" placeholder="image-extension" maxlength="140" [(ngModel)]="rsImg.extension">
                </md-input-container>
              </div>

              <h3>              basic info            </h3>
              <div class="row">
                <md-input-container class="mx-auto">
                  <input mdInput name="imgBSatellite" placeholder="image-satellite" maxlength="140" [(ngModel)]="rsImg.basicInfo.satellite">
                </md-input-container>
                <md-input-container class="mx-auto">
                  <input mdInput name="imgBDataType" placeholder="image-dataType" maxlength="140" [(ngModel)]="rsImg.basicInfo.dataType">
                </md-input-container>
                <md-input-container class="mx-auto">
                  <input mdInput name="imgBSensor" placeholder="image-sensor" maxlength="140" [(ngModel)]="rsImg.basicInfo.sensor">
                </md-input-container>
                <md-input-container class="mx-auto">
                  <input mdInput name="imgBTime" placeholder="image-time" maxlength="140" [(ngModel)]="rsImg.basicInfo.time">
                </md-input-container>
                <md-input-container class="mx-auto">
                  <input mdInput name="imgBObservatory" placeholder="image-observatory" maxlength="140" [(ngModel)]="rsImg.basicInfo.observatory">
                </md-input-container>
                <md-input-container class="mx-auto">
                  <input mdInput name="imgBStripeNo" placeholder="image-stripeNo" maxlength="140" [(ngModel)]="rsImg.basicInfo.stripeNo">
                </md-input-container>
                <md-input-container class="mx-auto">
                  <input mdInput name="imgBRowNo" placeholder="image-rowNo" maxlength="140" [(ngModel)]="rsImg.basicInfo.rowNo">
                </md-input-container>
                <md-input-container class="mx-auto">
                  <input mdInput name="imgBSEA" placeholder="image-SEA" maxlength="140" [(ngModel)]="rsImg.basicInfo.SEA">
                </md-input-container>
                <md-input-container class="mx-auto">
                  <input mdInput name="imgBAzimuth" placeholder="image-azimuth" maxlength="140" [(ngModel)]="rsImg.basicInfo.azimuth">
                </md-input-container>

              </div>
              <h3>              date info            </h3>
              <div class="row">
                <md-input-container>
                  <input mdInput name="imgDTimeAcquired" placeholder="image-timeAcquired" maxlength="140" [(ngModel)]="rsImg.dateInfo.timeAcquired">
                </md-input-container>
                <md-input-container>
                  <input mdInput name="imgDTimeEnd" placeholder="image-timeEnd" maxlength="140" [(ngModel)]="rsImg.dateInfo.timeEnd">
                </md-input-container>
              </div>
              <h3>              spatial info            </h3>
              <div class="">
                <md-input-container>
                  <input mdInput name="imgSLatitude" placeholder="image-latitude" maxlength="140" [(ngModel)]="rsImg.spatialInfo.latitude">
                </md-input-container>
                <md-input-container>
                  <input mdInput name="imgSLongitude" placeholder="image-longitude" maxlength="140" [(ngModel)]="rsImg.spatialInfo.longitude">
                </md-input-container>
              </div>
            </div>
          </md-card-content>

          <md-card-actions class="btnHolder">
            <button md-button color="accent" (click)="uploadImgThumbnails()">Upload All</button>
            <button md-button color="primary" (click)="formData()">OK</button>
          </md-card-actions>
        </md-card>
      </form>
    </section>
  </section>
</main>
